<div class="container bg-light">
  <div class="row">
    <div class="col-md-12">
      <form [formGroup]="registerForm" class="px-5 my-3">
        <div class="edit-profile-img mb-5">
          <img [src]="r.profile.value ? restService.baseUrl + r.profile.value :  'assets/images/placeholder.png'"
               alt="">
          <button class="btn btn-secondary text-white mx-5"
                  (click)="openDialogImage()"> {{'_UploadImage' | translate}}</button>
        </div>
        <mat-form-field class="w-100" appearance="outline">
          <mat-label>{{'_YourFirstName' | translate}}</mat-label>
          <input matInput formControlName="first_name">
          <mat-error *ngIf="registerForm.get('first_name').hasError('required')">
            {{'_FirstNameRequired' |  translate}}
          </mat-error>
        </mat-form-field>
        <mat-form-field class="w-100" appearance="outline">
          <mat-label>{{'_YourLastName' | translate}}</mat-label>
          <input matInput formControlName="last_name">
          <mat-error *ngIf="registerForm.get('last_name').hasError('required')">
            {{'_LastNameRequired' |  translate}}
          </mat-error>
        </mat-form-field>
        <mat-form-field class="w-100" appearance="outline">
          <mat-label>{{'_YourEmail' | translate}}</mat-label>
          <input matInput formControlName="email" [readonly]="true">
          <mat-icon matSuffix class="secondary-text"> mail</mat-icon>
          <mat-error>
            <div *ngIf="r.email.invalid && (r.email.dirty || r.email.touched)"
                 class="text-danger">
              <div *ngIf="r.email.errors.required">
                {{'_EmailRequired' | translate}}
              </div>
              <div *ngIf="r.email.errors.email">{{'_EmailNotValid' | translate}}</div>
            </div>
          </mat-error>
        </mat-form-field>
        <mat-form-field class="w-100" appearance="outline">
          <mat-label>{{'_MobileNumber' | translate}}</mat-label>
          <input matInput formControlName="phone">
          <mat-error *ngIf="registerForm.get('phone').hasError('required')">
            {{'_MobileNumberRequired' | translate}}
          </mat-error>
        </mat-form-field>
        <mat-form-field class="w-100" appearance="outline">
          <mat-label>{{'_CurrentPassword' | translate}}</mat-label>
          <input matInput type="password" formControlName="currentPassword">
          <mat-icon matSuffix class="secondary-text">vpn_key</mat-icon>
          <mat-error>
            <div *ngIf="r.currentPassword.invalid && (r.currentPassword.dirty || r.currentPassword.touched)"
                 class="text-danger">
              <div
                *ngIf="r.currentPassword.errors.minlength || r.currentPassword.errors.maxLength"> {{'_PasswordValidation' | translate}}
              </div>
            </div>
          </mat-error>
        </mat-form-field>
        <mat-form-field class="w-100" appearance="outline">
          <mat-label>{{'_Password' | translate}}</mat-label>
          <input matInput type="password" formControlName="password">
          <mat-icon matSuffix class="secondary-text">vpn_key</mat-icon>
        </mat-form-field>
        <mat-error>
          <div *ngIf="r.password.invalid && (r.password.dirty ||r.password.touched)"
               class="text-danger">
            <div *ngIf="r.password.errors.required">
              {{'_PasswordRequired' | translate}}
            </div>
            <div
              *ngIf="r.password.errors.minlength || r.password.errors.maxLength"> {{'_PasswordValidation' | translate}}</div>
          </div>
        </mat-error>
        <mat-form-field class="w-100" appearance="outline">
          <mat-label>{{'_ConfirmPassword' | translate}}</mat-label>
          <input matInput type="password" formControlName="ConfirmPassword">
          <mat-icon matSuffix class="secondary-text">vpn_key</mat-icon>
          <mat-error>
            <div *ngIf="r.ConfirmPassword.invalid && (r.ConfirmPassword.dirty || r.ConfirmPassword.touched)"
                 class="text-danger">
              <div *ngIf="r.ConfirmPassword.errors.required">
                {{'_ConfirmPasswordRequired' | translate}}
              </div>
              <div *ngIf="r.ConfirmPassword.errors.mustMatch"> {{'_PasswordMustMutch' | translate}}</div>
            </div>
          </mat-error>
        </mat-form-field>

        <button mat-raised-button color="accent" class=" w-100 my-3 py-2 text-uppercase btn-primary"
                aria-label="LOG IN" (click)="onSubmit()"
                [disabled]="registerForm.invalid" [ngClass]="registerForm.invalid? '' : 'active'">
          {{'_Update' | translate}}
        </button>
      </form>

    </div>
  </div>
</div>
